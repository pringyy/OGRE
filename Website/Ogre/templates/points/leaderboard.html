<!--THIS PAGE DISPLAYS THE LEADERBOARD TO THE USER-->

{% extends "points/base.html" %}
{% load static %}
{% block body_block %}
    
    <!--If user is logged in display page contents-->
    {%if user.is_authenticated %}

        <!--Imports the css for the point list-->
        <link rel="stylesheet" type="text/css" href="{% static 'css/pointlist.css' %}">
        <!--Imports the css for the gird the information is displayed on-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.3.1/jquery.bootgrid.css" rel="stylesheet" id="bootstrap-css">

        <!--Page contents-->
        <div class="container">
            <table class="table">
                <section class="wt-section" id="login">
            	   <div class="container">
                        <br>
            	        <h1 class="display-4 white-text">The LeaderBoard</h1>
                        <hr>
                        <div class="row">
                            <table id="grid-data" class="table table-condensed table-hover table-striped">
                                <thead class="data">
                                    <tr>
                                        <th data-column-id="id" data-type="numeric">USER_ID</th>
                                        <th data-column-id="type">Student ID</th>
                                        <th data-column-id="detail" data-order="desc">Points</th>
                                        
                                    </tr>
                                </thead>
                            </table>       
                        </div>
                    </div>
                </section>
            </table>     
        </div>

        <!--Java script for the grid the information is displayed on-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.3.1/jquery.bootgrid.js"></script>
        <!--Java script that gets the leaderboard-->
        <script>
            $('document').ready(function(){
                $("#grid-data").bootgrid({
                    ajaxSettings: {
                    method: "GET",
                    cache: false
                    },
                    ajax: true,
                    url: "/leaderboard/",
                });
            });
        </script>

    <!--Else tell the user what they need to do to access the page-->
    {% else %}
        <br>
        <center><h2 class = "display-4 white-text">Register or Login to access this page!</h2></center>
    {% endif %}    
{% endblock %}
