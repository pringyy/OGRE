<!--THIS PAGE IS USED TO REPRESENT WHAT THE LAUNCH PAGE OR THE LOGIN PAGE UI
It is a unique HTML page, hence it does not inherit from base-->


{% extends "points/base.html" %}
{% load static %}
{% block title %} {{ block.super }} - Leaderboard {% endblock %}
{% block body_block %}

  <!--If the user is already logged in, navigate them to the dashboard-->
  {%if user.is_authenticated %}
    <meta http-equiv = "refresh" content = "0; url = {% url 'index' %}" />
  <!--else display the page contents-->
  {% else %}
  
    <!--Reads in css code for the login page-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/login.css' %}">
     
     
    <!-- Page Content -->
    <body onload= "getRandomImage()">
      <div class="background">
        <div id="randImage" class="background-cover">

          <!-- Provides a space between the top of the page and the logo-->
          
          <div class="outer">
            <div class="middle">
              <!-- Displays ORGE logo-->
              <img onload="this.style.opacity='0.8'" src="{% static "images/ogrelogo.png" %}" class= "center" >    
              <div class="transparency_bg">
                <!-- All code below until next comment sets up the UI for the Login box-->
                <div class="container">
                  <div class="row">
                    <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
                      <div class="card card-signin my-5">
                        <div class="card-body">
                           <form class="form-signin" method="post">
                            {% csrf_token %}

                              <!--div class for where the user eneters their username-->
                              <div class="form-label-group">
                                <label for="inputUsername"></label>
                                <input type="text" id="inputUsername" class="form-control" name="username" placeholder="Username" required autofocus>
                              </div>

                              <!--div class for where the user eneters their student ID-->
                              <div class="form-label-group">
                                <label for="inputStudentID"></label>
                                <input type="text" id="inputStudentID" class="form-control" name="studentID" placeholder="StudentID" required autofocus>
                              </div>

                              <!--div class for where the user eneters their password-->
                              <div class="form-label-group">
                                <label for="inputPassword"></label>
                                <input type="password" id="inputPassword" class="form-control" name="password" placeholder="Password" required>
                              </div>

                              <!--IMPORTANT- change the link here to correspond with YOUR moodle server-->
                              <a href="http://157.245.126.159/login/forgot_password.php">Forgotten password?</a>
                              <br><br>

                              <!--Button submits user form-->
                              <button class="btn btn-lg btn-primary btn-block" type="submit" name="" value="Login">Sign in</button>
                              
                              <!--Link sends user to a page to register-->
                              <a href={% url 'register' %}><center>Not got an account? Register here.</center></a>
                            </form>
                          </div>
                       </div>
                    </div>
                </div>

           
                <!-- Displays university logo-->
                <img onload="this.style.opacity='0.8'" src="{% static "images/unilogo.png" %}" class= "center" width = "20%" >       
              </div>
            </div>
          </div>
        </div>
      </div>
  </body>

      <!--Makes sure the navbar isn't displayed-->
      {% block navbar1 %}
      {% endblock %}

      <!--Makes sure the footer isn't displayed-->
      {% block footer1 %}
      {% endblock %}

      <!--Script picks a random background from a selection of them-->
      <script>
          var $imageArray = new Array();
          //Array stores all the possible background
          $imageArray[0] = 'images/loginBackground/bg1.jpg';
          $imageArray[1] = 'images/loginBackground/bg2.jpg';
          $imageArray[2] = 'images/loginBackground/bg3.jpg';
          $imageArray[3] = 'images/loginBackground/bg4.jpg';
          $imageArray[4] = 'images/loginBackground/bg5.jpg';

          //function picks the image randomly using the random function
          function getRandomImage() {
              var $num = Math.floor( Math.random() * 5);
              var $img = $imageArray[$num];
              var $bg = "url({% static 'replace' %}) ";
              $bg = $bg.replace('replace',$img);
              $('#randImage').css('background-image', $bg);
          };
      </script>
  {% endif %}
{% endblock %}